// Generated by CoffeeScript 1.6.3
var app,
  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

app = angular.module('geomoment');

app.filter('formatDate', [
  'geomoment', function(geomoment) {
    return function(date, tzid, outFormat) {
      var format, name;
      if (date == null) {
        return '';
      }
      if (!tzid) {
        throw Error('tzid required');
      }
      if (__indexOf.call(Object.keys(geomoment.formats), outFormat) >= 0) {
        outFormat = geomoment.formats[outFormat];
      }
      return geomoment(date, (function() {
        var _ref, _results;
        _ref = geomoment.formats;
        _results = [];
        for (name in _ref) {
          format = _ref[name];
          _results.push(format);
        }
        return _results;
      })()).tz(tzid).format(outFormat);
    };
  }
]);
